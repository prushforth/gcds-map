<!doctype html>
<html dir="ltr" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0" />
    <title>GCDS Map - Default Size Test</title>

    <link rel="stylesheet" href="/www/gcds/gcds.css" />
    <script type="module" src="/www/gcds/gcds.esm.js"></script>
    <script type="module" src="/www/build/gcds-map.esm.js"></script>

    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        margin: 20px;
      }
      
      .test-info {
        background-color: #f5f5f5;
        padding: 15px;
        border-radius: 5px;
        margin-bottom: 20px;
      }
      
      /* NO styles applied to gcds-map - should use defaults */
    </style>
  </head>

  <body>
    <h1>GCDS Map - Default Size Test</h1>
    
    <div class="test-info">
      <h3>Default Size Test</h3>
      <p>This map should display at the default size (300px × 150px) with a default inset border when no CSS dimensions are specified.</p>
    </div>

    <!-- Map with NO width, height, or CSS styling -->
    <gcds-map 
      id="defaultMap"
      lat="45.4215" 
      lon="-75.6972" 
      zoom="10" 
      projection="OSMTILE"
      controls>
      <gcds-map-layer src="/src/components/gcds-map/assets/mapml/en/osmtile/cbmt" checked></gcds-map-layer>
    </gcds-map>

    <div class="test-info">
      <h3>Expected:</h3>
      <ul>
        <li>✓ Map displays at 300px width × 150px height</li>
        <li>✓ Map has inset border (default styling)</li>
        <li>✓ Controls are visible and functional</li>
        <li>✓ No JavaScript errors in console</li>
      </ul>
    </div>

    <div class="test-info">
      <h3>Programmatic Size Check</h3>
      <button onclick="checkSize()">Check Map Dimensions</button>
      <div id="sizeResult"></div>
    </div>

    <script>
      function checkSize() {
        const map = document.getElementById('defaultMap');
        const rect = map.getBoundingClientRect();
        const computed = window.getComputedStyle(map);
        
        document.getElementById('sizeResult').innerHTML = `
          <strong>Dimensions:</strong><br>
          getBoundingClientRect(): ${rect.width}px × ${rect.height}px<br>
          Computed width: ${computed.width}<br>
          Computed height: ${computed.height}<br>
          Computed display: ${computed.display}<br>
          Computed border: ${computed.borderWidth} ${computed.borderStyle}
        `;
      }

      // Auto-check on load
      document.addEventListener('DOMContentLoaded', () => {
        setTimeout(checkSize, 1000);
      });
    </script>
  </body>
</html>