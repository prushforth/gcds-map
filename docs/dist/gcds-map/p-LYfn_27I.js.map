{"version":3,"file":"p-LYfn_27I.js","sources":["src/components/utils/mapml/control/AttributionButton.js"],"sourcesContent":["import { Control, DomUtil, DomEvent, Map } from 'leaflet';\n\nexport var AttributionButton = Control.Attribution.extend({\n  _getLocale: function () {\n    return this.options.mapEl && this.options.mapEl.locale\n      ? this.options.mapEl.locale\n      : M.options.locale;\n  },\n  onAdd: function (map) {\n    map.attributionControl = this;\n    this._container = DomUtil.create('details', 'leaflet-control-attribution');\n    DomEvent.disableClickPropagation(this._container);\n\n    for (var i in map._layers) {\n      if (map._layers[i].getAttribution) {\n        this.addAttribution(map._layers[i].getAttribution());\n      }\n    }\n\n    this._update();\n\n    map.on('layeradd', this._addAttribution, this);\n\n    let dialog = document.createElement('dialog');\n    dialog.setAttribute('class', 'shortcuts-dialog');\n    dialog.setAttribute('autofocus', '');\n    dialog.onclick = function (e) {\n      e.stopPropagation();\n    };\n    let locale = this._getLocale();\n    dialog.innerHTML =\n      `<b>${locale.kbdShortcuts} </b><button aria-label=\"Close\" onclick='this.parentElement.close()'>X</button>` +\n      `<ul><b>${locale.kbdMovement}</b><li><kbd>&#8593</kbd> ${locale.kbdPanUp}</li><li><kbd>&#8595</kbd> ${locale.kbdPanDown}</li><li><kbd>&#8592</kbd> ${locale.kbdPanLeft}</li><li><kbd>&#8594</kbd> ${locale.kbdPanRight}</li><li><kbd>+</kbd> ${locale.btnZoomIn}</li><li><kbd>-</kbd> ${locale.btnZoomOut}</li><li><kbd>shift</kbd> + <kbd>&#8592/&#8593/&#8594/&#8595</kbd> 3x ${locale.kbdPanIncrement}</li><li><kbd>ctrl</kbd> + <kbd>&#8592/&#8593/&#8594/&#8595</kbd> 0.2x ${locale.kbdPanIncrement}</li><li><kbd>shift</kbd> + <kbd>+/-</kbd> ${locale.kbdZoom}</li></ul>` +\n      `<ul><b>${locale.kbdFeature}</b><li><kbd>&#8592/&#8593</kbd> ${locale.kbdPrevFeature}</li><li><kbd>&#8594/&#8595</kbd> ${locale.kbdNextFeature}</li></ul>`;\n    map._container.appendChild(dialog);\n\n    return this._container;\n  },\n\n  _update: function () {\n    if (!this._map) {\n      return;\n    }\n\n    var attribs = [];\n\n    for (var i in this._attributions) {\n      if (this._attributions[i]) {\n        attribs.push(i);\n      }\n    }\n\n    var prefixAndAttribs = [];\n\n    if (this.options.prefix) {\n      prefixAndAttribs.push(this.options.prefix);\n    }\n    if (attribs.length) {\n      prefixAndAttribs.push(attribs.join(', '));\n    }\n    let locale = this._getLocale();\n    this._container.innerHTML =\n      `<summary><svg aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" height=\"30px\" viewBox=\"0 0 24 24\" width=\"30px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"></path><path d=\"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"></path></svg></summary>` +\n      '<div class=\"mapml-attribution-container\">' +\n      `<button onclick=\"this.closest(\\'.leaflet-container\\').querySelector(\\'.shortcuts-dialog\\').showModal()\" class=\"shortcuts-button mapml-button\">${locale.kbdShortcuts}</button> | ` +\n      prefixAndAttribs.join(' <span aria-hidden=\"true\">|</span> ') +\n      '</div>';\n    this._container.setAttribute('role', 'group');\n    this._container.setAttribute('aria-label', `${locale.btnAttribution}`);\n  }\n});\n\nMap.mergeOptions({\n  attributionControl: false,\n  toggleableAttributionControl: true\n});\n\nMap.addInitHook(function () {\n  if (this.options.toggleableAttributionControl) {\n    attributionButton({ mapEl: this.options.mapEl }).addTo(this);\n  }\n});\n\nexport var attributionButton = function (opts) {\n  // Inline the icon as data URL to avoid asset path resolution issues\n  const w3icon = 'data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAQAABMLAAATCwAAAAAAAAAAAAD///8A////AP///wD///8A6/X+N/3+/zL///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A+fz/APn8/wD7/f8A5vP9EZDI+JPL5vyA////B////wD///8A////AP///wD///8A////AP///wD///8A////ADif8wA4n/MAO6DzACSW8msAdO7/MZzz8////yD///8L////Dv///wD///8A////AP///wD///8A////AP///wAOi/EADovxAA6L8QAUjvE3HZDx1Vqw9bF7vvelX7L2wsPg+zbAvPIg9PT9QP///wD///8A////Bv///wD///8A8/n+APP5/gDz+f4A4PD9B2y49p1AoPPXDojw9bjf/EjN3PkAIBvTSDs52PTY1/dwj43pfnp45cHy8fxH////ANvu/QDc7v0A4PD9BFmv9aMAfO//AHnu/5LL+Zb///8A////AKek7T4AAMr/SUXb4gcCzv4AAMj/paPtkf///wBOrf8AT67/AC+c/A1EpPRaJJbySQB97+vA4ft/////AO3s+xgzMdfSAADL/zs32OxNSdzeJyXUv9PT9iz///8A7tuqAO7cqwDi4tAi8fr/AJrQ/QAZjvVCmtD6VtLO9Sg7ONnRAADL/wQAzv8AAMz/V1Te3e7t/Br///8A////ANu9agDSrUQAzJwclfrw14P//vA74eroPsHU9hiBduc6MS7XWyci1UIhHdQ+AADLoC0p1vn///8k////AP///wD///8A////AM+oOozBjwr/xpYb++GvRNil59E+wPjnY/nv/wC6tvIAl5LrAIF26QBhXeFy/Pz+EP///wD///8A7uC6L+DGf5jfxXy9yZ0k5r+JAP/537Vbb+DQDg3Bmuue69e4///+Q////yC3+d9z3vnxN////wD///8A////AMKQBIe8hgD/yJsd+NOvSbfOpTL4////IoThzwAAv5baAL2T/yjKqPopyaftP9Cxx/T9+hT37uMA2reLAPLm1gLDkQccwI0AZty+bE/ew3YZwY0IuPjnx23L9fI1B8Ga+QK/l/8oyqjXRNCz0uf59UH///8A5s6yAKROAADfwZsBw5IIAMGOAADjy4oA4smGAMaGAAalrVQjGcyxeAjBmbQ1za2NQdCyxiHFofR63snM////Ff///wDAhD0A27mQAMOSCADBjgAA4smGAOHIhADKhwAAjqhNAAfIqQAZxqMAEMSeAAC/l70AvZL2UNS4pf///wn///8A5MqqANy7kwDDkggAwY4AAOLJhgDhyIQAyYcAAJGpTwALyasAGcajAAfCmwACwZllAL6WoHzeyk7///8B////AOjStwDdvJUA8/8AAOH/AADgfwAA4BsAAOCBAADBgQAAwQEAANgDAADAAwAAwPMAAAAHAAACBgAAAA4AAP';\n  const options = Object.assign(opts, {\n    prefix: `<img src=\"${w3icon}\" style=\"position: relative; top: 5px\" alt=\"W3C Community and Business Groups logo\"> <a href=\"https://www.w3.org/community/maps4html/\">Maps for HTML Community Group</a> | <img src=\"data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTIiIGhlaWdodD0iOCI+PHBhdGggZmlsbD0iIzRDN0JFMSIgZD0iTTAgMGgxMnY0SDB6Ii8+PHBhdGggZmlsbD0iI0ZGRDUwMCIgZD0iTTAgNGgxMnYzSDB6Ii8+PHBhdGggZmlsbD0iI0UwQkMwMCIgZD0iTTAgN2gxMnYxSDB6Ii8+PC9zdmc+\" style=\"padding-right: 0.3em;\" alt=\"Slava Ukraini\"> <a href=\"https://leafletjs.com\" title=\"A JS library for interactive maps\">Leaflet</a> `\n  });\n  return new AttributionButton(options);\n};\n"],"names":["Control","DomUtil","DomEvent","Map"],"mappings":"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"}